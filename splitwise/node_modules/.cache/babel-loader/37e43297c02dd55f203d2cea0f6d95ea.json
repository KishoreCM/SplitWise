{"ast":null,"code":"var _jsxFileName = \"/home/system8/Desktop/MyFirstReactApp/Node_Sequelize/splitwise/src/components/addexpense.jsx\";\nimport React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nfunction AddExpense(props) {\n  const getMonth = () => {\n    var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    return months[new Date().getMonth()];\n  };\n\n  const addExpense = () => {\n    let expenseName = this.refs.description.value;\n    let totalAmount = Number(this.refs.amount.value);\n    let mem_count = props.current_data.mem_count;\n    let amountPerHead = Number((totalAmount / (mem_count + 1)).toFixed(2));\n    let expenseData = new FormData();\n    expenseData.append(\"mem_count\", mem_count);\n    expenseData.append(\"name\", expenseName);\n    expenseData.append(\"you_paid\", totalAmount);\n    let youLent = Number((totalAmount - amountPerHead).toFixed(2));\n    expenseData.append(\"you_lent\", youLent);\n    expenseData.append(\"on_month\", getMonth());\n    expenseData.append(\"on_date\", new Date().getDate());\n    expenseData.append(\"groups_id\", props.current_data.id);\n    let friendsOwe = amountPerHead;\n    let userOwed = Number((totalAmount - amountPerHead).toFixed(2));\n    expenseData.append(\"tot_owes\", friendsOwe);\n    expenseData.append(\"tot_owed\", userOwed);\n    axios({\n      method: \"post\",\n      url: \"/app/add/expense\",\n      data: expenseData,\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(response => console.log(response)).catch(error => console.log(error));\n    alert(\"Expense Added!\");\n    this.refs.description.value = \"\";\n    this.refs.amount.value = \"\";\n  };\n\n  return React.createElement(Modal, Object.assign({}, props, {\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(Modal.Header, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Modal.Title, {\n    id: \"contained-modal-title-vcenter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Add expense\")), React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"h6\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"With\", \" \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"you\")), \" \", \"and all of:\", \" \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, props.group_name)))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      marginRight: \"20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-arrow-down\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Enter a description\"))), React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Description\",\n    ref: \"description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Amount in Rs.\",\n    ref: \"amount\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  })), React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Enter amount\")), \" \", React.createElement(\"span\", {\n    style: {\n      marginLeft: \"60px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-arrow-up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }))))), React.createElement(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: addExpense,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Add\")));\n}\n\nexport default AddExpense;","map":{"version":3,"sources":["/home/system8/Desktop/MyFirstReactApp/Node_Sequelize/splitwise/src/components/addexpense.jsx"],"names":["React","Component","Modal","Button","axios","AddExpense","props","getMonth","months","Date","addExpense","expenseName","refs","description","value","totalAmount","Number","amount","mem_count","current_data","amountPerHead","toFixed","expenseData","FormData","append","youLent","getDate","id","friendsOwe","userOwed","method","url","data","headers","then","response","console","log","catch","error","alert","group_name","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nfunction AddExpense(props) {\n  const getMonth = () => {\n    var months = [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"July\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\"\n    ];\n    return months[new Date().getMonth()];\n  };\n\n  const addExpense = () => {\n    let expenseName = this.refs.description.value;\n    let totalAmount = Number(this.refs.amount.value);\n    let { mem_count } = props.current_data;\n    let amountPerHead = Number((totalAmount / (mem_count + 1)).toFixed(2));\n\n    let expenseData = new FormData();\n    expenseData.append(\"mem_count\", mem_count);\n    expenseData.append(\"name\", expenseName);\n    expenseData.append(\"you_paid\", totalAmount);\n    let youLent = Number((totalAmount - amountPerHead).toFixed(2));\n    expenseData.append(\"you_lent\", youLent);\n    expenseData.append(\"on_month\", getMonth());\n    expenseData.append(\"on_date\", new Date().getDate());\n    expenseData.append(\"groups_id\", props.current_data.id);\n\n    let friendsOwe = amountPerHead;\n    let userOwed = Number((totalAmount - amountPerHead).toFixed(2));\n\n    expenseData.append(\"tot_owes\", friendsOwe);\n    expenseData.append(\"tot_owed\", userOwed);\n\n    axios({\n      method: \"post\",\n      url: \"/app/add/expense\",\n      data: expenseData,\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n    })\n      .then(response => console.log(response))\n      .catch(error => console.log(error));\n\n    alert(\"Expense Added!\");\n    this.refs.description.value = \"\";\n    this.refs.amount.value = \"\";\n  };\n\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          Add expense\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div>\n          <h6>\n            With{\" \"}\n            <b>\n              <i>you</i>\n            </b>{\" \"}\n            and all of:{\" \"}\n            <b>\n              <i>{props.group_name}</i>\n            </b>\n          </h6>\n        </div>\n        <div>\n          <center>\n            <span style={{ marginRight: \"20px\" }}>\n              <i className=\"fa fa-arrow-down\"></i>\n            </span>\n            <label>\n              <i>Enter a description</i>\n            </label>\n          </center>\n          <center>\n            <input type=\"text\" placeholder=\"Description\" ref=\"description\" />\n          </center>\n          <center>\n            <input type=\"text\" placeholder=\"Amount in Rs.\" ref=\"amount\" />\n          </center>\n          <center>\n            <label>\n              <i>Enter amount</i>\n            </label>{\" \"}\n            <span style={{ marginLeft: \"60px\" }}>\n              <i className=\"fa fa-arrow-up\"></i>\n            </span>\n          </center>\n        </div>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button onClick={addExpense}>Add</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default AddExpense;\n"]},"metadata":{},"sourceType":"module"}