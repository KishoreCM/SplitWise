{"ast":null,"code":"var _jsxFileName = \"/home/system8/Desktop/MyFirstReactApp/Node_Sequelize/splitwise/src/components/addexpense.jsx\";\nimport React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nclass AddExpense extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addExpense = () => {\n      let expenseName = this.refs.description.value;\n      let totalAmount = Number(this.refs.amount.value);\n      let mem_count = this.props.current_data.mem_count;\n      let amountPerHead = Number((totalAmount / (mem_count + 1)).toFixed(2));\n      let expenseData = new FormData();\n      expenseData.append(\"mem_count\", mem_count);\n      expenseData.append(\"name\", expenseName);\n      expenseData.append(\"you_paid\", totalAmount);\n      let youLent = Number((totalAmount - amountPerHead).toFixed(2));\n      expenseData.append(\"you_lent\", youLent);\n      expenseData.append(\"on_month\", this.getMonth());\n      expenseData.append(\"on_date\", new Date().getDate());\n      expenseData.append(\"groups_id\", this.props.current_data.id);\n      let friendsOwe = amountPerHead;\n      let userOwed = Number((totalAmount - amountPerHead).toFixed(2));\n      expenseData.append(\"tot_owes\", friendsOwe);\n      expenseData.append(\"tot_owed\", userOwed);\n      axios({\n        method: \"post\",\n        url: \"/app/add/expense\",\n        data: expenseData,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(response => console.log(response)).catch(error => console.log(error));\n      alert(\"Expense Added!\");\n      this.refs.description.value = \"\";\n      this.refs.amount.value = \"\";\n    };\n  }\n\n  getMonth() {\n    var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    return months[new Date().getMonth()];\n  }\n\n  render() {\n    return React.createElement(Modal, Object.assign({}, this.props, {\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      id: \"contained-modal-title-vcenter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Add expense\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"With\", \" \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"you\")), \" \", \"and all of:\", \" \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.props.group_name)))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        marginRight: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-arrow-down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Enter a description\"))), React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Description\",\n      ref: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Amount in Rs.\",\n      ref: \"amount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Enter amount\")), \" \", React.createElement(\"span\", {\n      style: {\n        marginLeft: \"60px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-arrow-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.addExpense,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Add\")));\n  }\n\n}\n\nexport default AddExpense;","map":{"version":3,"sources":["/home/system8/Desktop/MyFirstReactApp/Node_Sequelize/splitwise/src/components/addexpense.jsx"],"names":["React","Component","Modal","Button","axios","AddExpense","addExpense","expenseName","refs","description","value","totalAmount","Number","amount","mem_count","props","current_data","amountPerHead","toFixed","expenseData","FormData","append","youLent","getMonth","Date","getDate","id","friendsOwe","userOwed","method","url","data","headers","then","response","console","log","catch","error","alert","months","render","group_name","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nclass AddExpense extends Component {\n  getMonth() {\n    var months = [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"July\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\"\n    ];\n    return months[new Date().getMonth()];\n  }\n\n  addExpense = () => {\n    let expenseName = this.refs.description.value;\n    let totalAmount = Number(this.refs.amount.value);\n    let { mem_count } = this.props.current_data;\n    let amountPerHead = Number((totalAmount / (mem_count + 1)).toFixed(2));\n\n    let expenseData = new FormData();\n    expenseData.append(\"mem_count\", mem_count);\n    expenseData.append(\"name\", expenseName);\n    expenseData.append(\"you_paid\", totalAmount);\n    let youLent = Number((totalAmount - amountPerHead).toFixed(2));\n    expenseData.append(\"you_lent\", youLent);\n    expenseData.append(\"on_month\", this.getMonth());\n    expenseData.append(\"on_date\", new Date().getDate());\n    expenseData.append(\"groups_id\", this.props.current_data.id);\n\n    let friendsOwe = amountPerHead;\n    let userOwed = Number((totalAmount - amountPerHead).toFixed(2));\n\n    expenseData.append(\"tot_owes\", friendsOwe);\n    expenseData.append(\"tot_owed\", userOwed);\n\n    axios({\n      method: \"post\",\n      url: \"/app/add/expense\",\n      data: expenseData,\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n    })\n      .then(response => console.log(response))\n      .catch(error => console.log(error));\n\n    alert(\"Expense Added!\");\n    this.refs.description.value = \"\";\n    this.refs.amount.value = \"\";\n  };\n\n  render() {\n    return (\n      <Modal\n        {...this.props}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n            Add expense\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div>\n            <h6>\n              With{\" \"}\n              <b>\n                <i>you</i>\n              </b>{\" \"}\n              and all of:{\" \"}\n              <b>\n                <i>{this.props.group_name}</i>\n              </b>\n            </h6>\n          </div>\n          <div>\n            <center>\n              <span style={{ marginRight: \"20px\" }}>\n                <i className=\"fa fa-arrow-down\"></i>\n              </span>\n              <label>\n                <i>Enter a description</i>\n              </label>\n            </center>\n            <center>\n              <input type=\"text\" placeholder=\"Description\" ref=\"description\" />\n            </center>\n            <center>\n              <input type=\"text\" placeholder=\"Amount in Rs.\" ref=\"amount\" />\n            </center>\n            <center>\n              <label>\n                <i>Enter amount</i>\n              </label>{\" \"}\n              <span style={{ marginLeft: \"60px\" }}>\n                <i className=\"fa fa-arrow-up\"></i>\n              </span>\n            </center>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.addExpense}>Add</Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default AddExpense;\n"]},"metadata":{},"sourceType":"module"}